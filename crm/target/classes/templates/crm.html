<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">


<!-- Font Awesome 6 Free (Latest) -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<th:block th:include="fragments/headerlibs.html :: headerlibs"></th:block>

<body id="page-top" >
	<!--onload="getIssueVoucherList(), getLinkedBankDetail(),getBankListWithVocher(),requestedVoucherCount()"-->

    <div class="bs-canvas-overlay bg-dark position-fixed w-100 h-100"></div>

    <!-- Page Wrapper -->
    <div id="wrapper">

		<!-- Sidebar -->
				      
 	   <div th:insert="fragments/sidenav.html :: sidevav"></div>
       <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

				<!-- Topbar -->
				              

<nav class="navbar navbar-expand navbar-light bg-white topbar static-top">

                   <!-- Topbar Navbar -->
                   <ul class="navbar-nav top-nav">

                       <!-- Nav Item - User Information -->
                     <!--  <li class="nav-item">
                           <a class="nav-link active" href="#">
                               <span class="mr-2 small">Dashboard</span>
                               <i class="fas fa-ellipsis-v fa-sm fa-fw"></i>
                           </a>
                       </li>
                       <li class="nav-item">
                           <a class="nav-link" href="#">
                               <span class="mr-2 small">Employee Payroll</span>
                               <i class="fas fa-ellipsis-v fa-sm fa-fw"></i>
                           </a>
                       </li>-->

                   </ul>

				   <!-- Right Icons + Profile -->
				   			    <ul class="navbar-nav d-flex flex-row align-items-center mb-0">
				   			      <!-- Wallet Icon -->
				   			     <!-- <li class="nav-item mr-3">
				   			        <a href="/settings/wallet" role="button">
				   			          <img src="img/Wallet-icon.png" alt="Wallet" class="nav-icon-img" >
				   			        </a>
				   			      </li>-->
				   				  <li class="nav-item mr-3">
				     			        <a href="/cotowallet" role="button">
				     			          <img src="img/Wallet-icon.png" alt="Wallet" class="nav-icon-img" >
				     			        </a>
				     			      </li>
				   			      <!-- Notification Icon -->
				   			      <li class="nav-item mr-3">
				   			        <a href="#" role="button">
				   			          <img src="img/Notification-icon.png" alt="Notification" class="nav-icon-img">
				   			        </a>
				   			      </li>

				   			      <!-- Profile Dropdown -->
				   			      <li class="nav-item dropdown no-arrow">
				   			        <a class="nav-link dropdown-toggle p-0" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				   			          <img class="img-profile rounded-circle" src="img/undraw_profile.svg" alt="User" style="width: 32px; height: 32px;">
				   			        </a>
				   			        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
				   			          <a class="logout-profile" href="/ProfileInfo">
				   			            <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i> Profile
				   			          </a>
				   			       <!--   <a class="dropdown-item" href="#">
				   			            <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i> Settings
				   			          </a>-->
									  <div class="dropdown-divider"></div>
  				   			          <a class="logout-profile" th:href="@{/logout}">
  				   			            <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i> Logout
  				   			          </a>
																					  
				   			        </div>
				   			      </li>
				   			    </ul>		
           </nav>
  <!-- End of Topbar -->

                <!-- Begin Page Content -->
                <div class="container-fluid p-0 p-md-1">
                    <div class="row">
                        <div class="col-12">
                            <div class="tab-content">                        

									<input type="hidden" class="form-input" id="employerId" name="employerId" th:value="${session.id}">
									<input type="hidden" class="form-input" id="employerMobile" name="employerMobile" th:value="${session.mobile}">
									<input type="hidden" class="form-input" id="userRole" name="userRole" th:value="${session.user_role}">
        							<div class="upi-voucher-wrap">
									
                                    <div >
										<div >
											
										   <ul class="nav nav-underline" id="dashboardTabs" role="tablist">
										    
										    
										     <li class="nav-item">
										       <a class="nav-link active" data-toggle="tab" href="#OutletManagement" role="tab">Outlet Management</a>
										     </li>
											 <!--<li class="nav-item">
	 									       <a class="nav-link" data-toggle="tab" href="#ViewAllCustomers" role="tab">View All Customers</a>
	 									     </li>-->
											
											
										   </ul>
										  
										   <hr class="mt-0">

										   <div class="tab-content mt-3">
											<!--vouchers tab-->
											<div class="tab-pane fade show active" id="OutletManagement" role="tabpanel">
												<p>Step 1: Please download the daily batch file. </p>
												<p>Step 2: Then upload it on the relevant Bank Server for review and update submission status. </p>
												<p>Step 3: Once reviewed and confirmed from the appropriate authority, update the confirmation status.</p>
											<div class="table-responsive" >
											   <table class="table table-reimbursements mb-0" id="OutletManagementList" style="border: 1px solid #EAF4EF; border-radius: 10px;font-size: 13px;">										     
												 <thead>
			 						                <tr>
			 										 
													 <th> Date <img src="img/Sorting-updown.svg" alt="sorting"></th>	
			 										  <th>Batch Number</th>
													  <th>Brands for Update</th>
													  
			 						                  <th>UPI Devices for Update</th>
			 										  <th>Submission Status</th>	
														<th>Submission Date</th>
			 										  
			 										  <th>Confirmation Status</th>	
													  <th>Confirmation Date</th>	
			 										  <th>Action</th>	
			 										 
			 						                </tr>
			 						              </thead>
											     <tbody class="table-bordered" >
											       <tr>
													
												
												 <td>
											         21/04/2024
											        </td>
													<td style="display: flex; align-items: center; justify-content: space-between;">
													  123456
													  <img src="img/download-black.svg" alt="info" style="height: 24px; width: 24px;">
													</td>
													<td>1</td>
													<td>7</td>
													<td class="pill bg-lightgreen-txt-green-pill " >
													  Submitted
													</td>
													<td >
													  21/04/2024
													</td>
													<td class="pill bg-lightgreen-txt-green-pill ">Confirmed</td>
													<td >21/04/2024</td>
													<td>
													  <span class="updateStatusBtn" style="color: #367AFF; cursor: pointer; text-decoration: underline;">
													    Update Status
													  </span>
													</td>
											       </tr>
												   <tr>										
	   												 <td>
	   											         21/04/2024
	   											        </td>
	   													<td style="display: flex; align-items: center; justify-content: space-between;">
	   													  123456
	   													  <img src="img/download-black.svg" alt="info" style="height: 24px; width: 24px;">
	   													</td>
	   													<td>1</td>
	   													<td>7</td>
	   													<td class="pill bg-lightgreen-txt-green-pill " >
	   													  Submitted
	   													</td>
	   													<td >
	   													  21/04/2024
	   													</td>
	   													<td class="pill bg-lightgreen-txt-green-pill ">Confirmed</td>
	   													<td >21/04/2024</td>
														<td>
														  <span class="updateStatusBtn" style="color: #367AFF; cursor: pointer; text-decoration: underline;">
														    Update Status
														  </span>
														</td>
	   											       </tr>									
											     </tbody>
											   </table>
											 </div>


											 
											</div>

											 
											<!-- transactions tab-->
										     <div class="tab-pane fade" id="ViewAllCustomers" role="tabpanel">
												<div class="table-responsive">
												  <table class="table table-reimbursements mb-0" id="vouchersTableTransactionList" style="border: 1px solid #EAF4EF; border-radius: 10px;font-size: 13px;">
													<thead>
												      <tr>	
													  <th><input type="checkbox" id="checkAll" style="margin-left: 24px;"></th>						
													  <th>Date & Time<img src="img/Sorting-updown.svg" alt="sorting"></th>
												      <th>Voucher ID<img src="img/Sorting-updown.svg" alt="sorting"></th>	
													  <th>Transaction RRN<img src="img/Sorting-updown.svg" alt="sorting"></th>
												      <th>Name & Mobile #<img src="img/Sorting-updown.svg" alt="sorting"></th>
													  <th>Category<img src="img/Sorting-updown.svg" alt="sorting"></th>	
													  <th>Merchant Name<img src="img/Sorting-updown.svg" alt="sorting"></th>	
													  <th>Amount<img src="img/Sorting-updown.svg" alt="sorting"></th>	
													  <!--<th>Mode of Payment</th>-->
													  
												      </tr>
												    </thead>
												    <tbody class="table-bordered" >
												      <!--<tr>
										       		  <td>21/04/2024<br>
														17:57:13</td>
													 <td>ICICI00001145781</td>
													 <td>
														CDL-0424-003
												       </td>
													   <td>Deepak Kumar<br>9910318405</td>
													 <td><img src="img/fuel-grey.png" alt="tiffinbox" style="height:24px; width:24px; margin-right:10px;">Fuel
														</td>
														<td>Indian Oil</td>
														<td style="text-align: right;">16,890</td>
														
														
												      </tr>							
													  <tr>
											       		  <td>21/04/2024<br>
															17:57:13</td>
														 <td>ICICI00001145781</td>
														 <td>
															CDL-0424-003
													       </td>
														   <td>Atul Kumar<br>9910318405</td>
														 <td><img src="img/food-icon-grey.png" alt="tiffinbox" style="height:24px; width:24px; margin-right:10px;">Food
															</td>
															<td>Anna Dosa</td>
															<td style="text-align: right;">890</td>
															
															
													      </tr>		-->				
												    </tbody>
												  </table>
												</div>											
										     </div>
											 


										   </div>
										 </div>
                                        
                                    </div>
                                </div>
								
                            </div>

                        </div>
                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->
        </div>

		<div class="" id="modal-overlay2" style="display:none;">
			  <div class="voucher-modal-canvas" id="bs-canvas-right3">
			    <div class="voucher-modal-scrollable-wrapper">
			      <div class="voucher-modal-scrollable">
			        <div class="voucher-header mt-2">
			          <h5 class="voucher-title">Add Outlet Details</h5>
			          <button id="close-geo-modal-btn" class="voucher-close-btn bs-canvas-close btn btn-link p-0" aria-label="Close"  style="margin-right: -65px; outline: none; box-shadow: none;">
			            <i class="fas fa-times voucher-close-icon"></i>
			          </button>
			        </div>

			        <div class="voucher-body">
					  <div id="geoContainer">
						
						<div class="did-floating-label-content mr-2">
						    <select class="did-floating-select" id="outletType">
						        <option value="">Select Status</option>
								<option value="Confirmed">Confirmed</option>
								<option value="Not Confirmed">Not Confirmed</option>
						    </select>
						    <label class="did-floating-label">Outlet Type </span></label>
						</div>
						<div class="error-msg" id="outletTypeError" style="margin-top: -10px; font-size: 12px;"></div>
					  </div>

					 
			        </div>
			      </div>
				 
			    </div>
				<!-- Footer Button -->
							  				     <div class="voucher-footer text-center p-3">

							  				   		<button class="voucher-download-btn btn btn-primary btn-block font-weight-bold" type="button" onclick="addUPIDevice()" >
							  				         Confirm
							  				        </button>
							  				     </div>
			   </div>
		</div>
		<div class="lds-spinner" id="signinLoader" style="display: none">
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
						<div></div>
					</div>
					
        <!-- End of Content Wrapper -->

		

		
    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="js/demo/datatables-demo.js"></script>
	<script type="text/javascript" src="cotodel-js/upi-voucher-issuance.js"></script>
	<!-- Include SheetJS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
	<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<!-- Script -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const updateBtns = document.querySelectorAll(".updateStatusBtn");
  const overlay = document.getElementById("modal-overlay2");
  const canvas = document.getElementById("bs-canvas-right3");
  const closeBtn = document.getElementById("close-geo-modal-btn");

  updateBtns.forEach(btn => {
    btn.addEventListener("click", function () {
      overlay.style.display = "block";
      setTimeout(() => {
        canvas.classList.add("show-canvas");
      }, 10);
    });
  });

  if (closeBtn) {
    closeBtn.addEventListener("click", function () {
      canvas.classList.remove("show-canvas");
      setTimeout(() => {
        overlay.style.display = "none";
      }, 300);
    });
  }

  overlay.addEventListener("click", function (event) {
    if (event.target === overlay) {
      canvas.classList.remove("show-canvas");
      setTimeout(() => {
        overlay.style.display = "none";
      }, 300);
    }
  });
});
</script>

	<script type="text/javascript">

	$(document).ready(function(){
		
		  $('li.active').removeClass('active').removeAttr('aria-current'); 
		  $('a[href="' +'/crm"]').closest('li').addClass('active').attr('aria-current', 'page');   
		  
	   $(".innernav").click(function(){
	       $(".dropdownNav").addClass("active");
	   });
	});

	</script>
	<script>
		document.getElementById('requestedVoucher').addEventListener('click', function () {
		    document.getElementById('bellCountBadge').style.display = 'none';
		    window.location.href = '/requestedUpiVoucherIssuance'; // ← replace with actual target page URL
		});

	</script>
	
    <script>
        $(document).ready(function () {
            $("#hide").click(function () {
                $(".ftr-content").hide();
            });
            $("#show").click(function () {
                $(".ftr-content").show();
            });
        });

        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        });


        jQuery(document).ready(function ($) {
            var bsOverlay = $('.bs-canvas-overlay');
            $('[data-toggle="canvas"]').on('click', function () {
                var ctrl = $(this),
                    elm = ctrl.is('button') ? ctrl.data('target') : ctrl.attr('href');
                $(elm).addClass('mr-0');
                $(elm + ' .bs-canvas-close').attr('aria-expanded', "true");
                $('[data-target="' + elm + '"], a[href="' + elm + '"]').attr('aria-expanded', "true");
                if (bsOverlay.length)
                    bsOverlay.addClass('show');
                return false;
            });

            $('.bs-canvas-close, .bs-canvas-overlay').on('click', function () {
                var elm;
                if ($(this).hasClass('bs-canvas-close')) {
                    elm = $(this).closest('.bs-canvas');
                    $('[data-target="' + elm + '"], a[href="' + elm + '"]').attr('aria-expanded', "false");
                } else {
                    elm = $('.bs-canvas')
                    $('[data-toggle="canvas"]').attr('aria-expanded', "false");
                }
                elm.removeClass('mr-0');
                $('.bs-canvas-close', elm).attr('aria-expanded', "false");
                if (bsOverlay.length)
                    bsOverlay.removeClass('show');
                return false;
            });
        });

</script>
      
	

<style>
	#bs-canvas-right3 
		{
		  position: absolute;
		  right: 0;
		  top: 0;
		  width: 380px;
		  height: 100%;
		  background: #fff;
		  transform: translateX(100%);
		  transition: transform 0.3s ease-in-out;
		  z-index: 1001;
		}

		#bs-canvas-right3.show-canvas {
		  transform: translateX(0);
		}	
		#modal-overlay2 {
		  display: none;
		  position: fixed;
		  top: 0;
		  left: 0;
		  width: 100%;
		  height: 100%;
		  background-color: rgba(0, 0, 0, 0.85); /* Bootstrap-like black */
		  z-index: 1000; /* Just below bs-canvas */
		}
				.collapsed {
			    display: none !important;
			  }
			  #bulkrevokeModal {
			    z-index: 1055 !important;
			  }
			 
			  .tooltip-wrapper {
			      position: relative;
			      display: inline-block;
			      cursor: pointer;
			  }

			  .tooltip-wrapper .tooltip-text {
			      visibility: hidden;
			      background-color: #333;
			      color: #fff;
			      text-align: center;
			      border-radius: 4px;
			      padding: 5px 8px;
			      position: absolute;
			      z-index: 1;
			      bottom: 125%; /* show above */
			      left: 50%;
			      transform: translateX(-50%);
			      white-space: nowrap;
			      font-size: 12px;
			      opacity: 0;
			      transition: opacity 0.3s;
			  }

			  .tooltip-wrapper:hover .tooltip-text {
			      visibility: visible;
			      opacity: 1;
			  }
			 

			 

		  </style>
</body>

</html>

<!-- Modal Issue Vouchers -->
<div class="customModal" id="revokeModal">
    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-xxl" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-header pb-0 text-center">
                <h5 class="modal-title w-100" id="exampleModalCenterTitle">Are you sure?</h5>
            </div>
            <hr>
            <p class="text-dark">Please confirm if you would like to ‘Revoke’ this UPI Vouchers.</p>
            <div class="modal-body text-center">
              
				<div class="table-responsive">
				                <div class="table table-reimbursements table-upivouchers">
				                    <div class="tablehead">
										<input type="hidden" id="revokeId">
				                        <div class="tabletheadtr">
				                            <span>Name <img src="img/Sort.png" alt=""></span>
											<span></span>
				                            <span>Mobile</span>
											<span>Amount </span>
				                           <!-- <span>Bank A/c </span>-->
				                            <span>Voucher &amp; Type <img src="img/Sort.png" alt=""></span>
				                            <span>Status <img src="img/Sort.png" alt=""></span>
				                            <span>Issue Date <img src="img/Sort.png" alt=""></span>
				                            <span>Expiry Date</span>
				                        </div>
				                    </div>

				                    <div class="tablebody">
				                        <div class="tablebodytr">
				                            <span id="popupFieldName"></span>
				                            <span id="popupFieldMobile"></span>
											<span id="popupFieldAmount"></span>
				                            <!--<span>
				                                <div class="tdflex"><img src="img/indianbank.png" width="16px"
				                                        alt=""><span id="popupFieldBankId"></span></div>
				                            </span>-->
				                            <span id="popupFieldpurposeDesc">
				                                <!--<div class="tdflex"><span id="popupFieldpurposeDesc"></span>
				                                    <div><img src="img/mealtype.svg" width="16px" alt="" data-toggle="tooltip"
				                                            data-placement="top" title="Multi Redemption">
				                                        <img src="img/info.svg" width="16px" alt="" data-toggle="tooltip"
				                                            data-placement="top" title="Single Redemption">
				                                    </div>
				                                </div>-->
				                            </span>
				                            <span><label>Active</label></span>
				                            <span id="popupFieldStartDate"></span>
				                            <span  id="popupFieldExpiryDate"></span>
				                        </div>
				                    </div>
				                </div>
				            </div>
                <div class="d-flex justify-content-center mt-3">
                    <button class="btn btn-border w-100" id="btnRevoke">REVOKE</button>
                    <button class="btn btn-primary w-100" id="cancelbtn">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="customModal" id="bulkrevokeModal">
  <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-xxl" role="document">
    <div class="modal-content modal-bulk p-0">
      <div class="modal-header pb-0 text-center">
        <h5 class="modal-title w-100">Are you sure?</h5>
      </div>
      <hr>
      <p class="text-dark text-center">Please confirm if you would like to ‘Revoke’ these UPI Vouchers.</p>

      <div class="modal-body text-center">
        <div class="table-responsive">
          <div id="bulkRevokeTableBody" style="font-size: 13px;">
            <!-- Dynamic table will be injected here by JS -->
          </div>
        </div>

        <div class="d-flex justify-content-center mt-3">
          <button class="btn btn-border w-100" id="bulkBtnRevoke">REVOKE</button>
          <button class="btn btn-primary w-100" id="bulkcancelbtn">Back</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal Issue Vouchers -->
<div class="customModal" id="sendSMSModal" >
    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-xxl" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-header pb-0 text-center">
                <h5 class="modal-title w-100" id="exampleModalCenterTitle">Are you sure?</h5>
            </div>
            <hr>
            <p class="text-dark">Please confirm if you would like to ‘Re Send SMS’ this UPI Vouchers.</p>
            <div class="modal-body text-center">
                <div class="table-responsive">
					<p><input type="hidden" id="resendId" name="resendId" /></p>
					<p><strong>Name:</strong> <span id="popupFieldName"></span></p>
					 <p><strong>Mobile:</strong> <span id="popupFieldMobile"></span></p>
					 <p><strong>Amount:</strong> <span id="popupFieldAmount"></span></p>
                   <!-- <table class="table table-reimbursements table-upivouchers">
                        <thead>
                            <tr>
                                <th>Name <img src="img/Sort.png" alt=""></th>
                                <th>Mobile Number </th>
                                <th>Bank A/c </th>
                                <th>Voucher &amp; Type <img src="img/Sort.png" alt=""></th>
                                <th>Status <img src="img/Sort.png" alt=""></th>
                                <th>Issue Date <img src="img/Sort.png" alt=""></th>
                                <th>Expiry Date</th>
                                <th>Issued</th>
                                <th>Redeemed</th>

                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>Deepak Kumar</td>
                                <td>9910318405</td>
                                <td>
                                    <div class="tdflex"><img src="img/indianbank.png" width="16px"
                                            alt=""><span>xxx0569</span></div>
                                </td>
                                <td>
                                    <div class="tdflex"><span>Meal</span>
                                        <div><img src="img/mealtype.svg" width="16px" alt="" data-toggle="tooltip"
                                                data-placement="top" title="Multi Redemption">
                                            <img src="img/info.svg" width="16px" alt="" data-toggle="tooltip"
                                                data-placement="top" title="Single Redemption">
                                        </div>
                                    </div>
                                </td>
                                <td><label>Active</label></td>
                                <td>25/10/2024</td>
                                <td>25/11/2024</td>
                                <td>₹ 5,000</td>
                                <td>₹ 2,500</td>
                            </tr>
                        </tbody>
                    </table>-->
                </div>


                <div class="d-flex justify-content-center mt-3">
                    <button class="btn btn-border w-100" id="btnResend">Send SMS</button>
                    <button class="btn btn-primary w-100" id="cancelbtn">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Modal Issue Vouchers -->
<div class="customModal" id="RevokeUPIVoucherModal">
    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-header pb-0 text-center">
                <h5 class="modal-title w-100" id="exampleModalCenterTitle">Revoke UPI Voucher</h5>
				<button type="button"
				           style="border: none; background: none; font-size: 1.5rem; position: absolute; top: 10px; right: 0px; line-height: 1; padding: 0 20px;"
				           aria-label="Close"
				           onclick="closeRevokeUPIVoucherModal()">
				       &times;
				   </button>
            </div>
			<div class="modal-body text-center">
			                <div class="otp-box-onboarding justify-content-center">
							
								<input  class="form-control form-control-sm test" type="password" id="password1" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password1" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password2" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password2" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password3" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password3" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password4" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password4" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password5" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password5" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password6" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password6" maxlength="1" autocomplete="off" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="hidden" id="orderId" 
							        name="orderId" >
									<div class="d-flex justify-content-center mt-2">
									    <i class="fa-solid fa-eye" id="toggleOtpIcon2" style="cursor: pointer;margin-top: 5px; " onclick="toggleOtpVisibility2()"></i>
									</div>
			                </div>
			               <label class="time-otp ml-0 text-dark" for="" id="countdown" style="color: green;"></label>
						  <!-- <div class="text-center" id="countdown" style="color: green;"></div>-->
							<p id="resendCode">Didn’t receive the code?  <a href="#" onclick="resendVoucherOTP()">Resend OTP</a></p>
							<p class="error-msg" id="otpError" style="color:red"></p>
			                    <p class="mb-0" id="maskedMobileDisplay"></p>
			                </div>
			                <div class="d-flex justify-content-center mt-3">
								<button class="btn btn-primary w-100" id="authenticate" onclick="verfyIssueVoucherOTP()">Authenticate</button>
			                </div>
			            </div>
			      
        </div>
    </div>
</div>

<!-- Modal revoke bulk Vouchers -->
<div class="customModal" id="RevokebulkUPIVoucherModal" style="z-index: 1055; display: none; padding-top: 5%;">
    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-lg" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-header pb-0 text-center">
                <h5 class="modal-title w-100" id="exampleModalCenterTitle">Revoke Bulk UPI Voucher</h5>
				<button type="button"
				           style="border: none; background: none; font-size: 1.5rem; position: absolute; top: 10px; right: 0px; line-height: 1; padding: 0 20px;"
				           aria-label="Close"
				           onclick="closeRevokebulkUPIVoucherModal()">
				       &times;
				   </button>
            </div>
			<div class="modal-body text-center">
			                <div class="otp-box-onboarding justify-content-center">
							
								<input  class="form-control form-control-sm test" type="password" id="password111" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password1" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password222" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password2" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password333" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password3" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password444" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password4" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password555" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password5" maxlength="1" autocomplete="off" onkeypress="focusNext(this)" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="password" id="password666" 
									oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\.*)\./g, '$1');"
							        name="password6" maxlength="1" autocomplete="off" onkeydown="focusBack()">
							        <input  class="form-control form-control-sm test" type="hidden" id="orderId3" 
							        name="orderId3" >
									<div class="d-flex justify-content-center mt-2">
									    <i class="fa-solid fa-eye" id="toggleOtpIcon3" style="cursor: pointer;margin-top: 5px; " onclick="toggleOtpVisibility3()"></i>
									</div>
			                </div>
			               <label class="time-otp ml-0 text-dark" for="" id="countdown3" style="color: green;"></label>
						  <!-- <div class="text-center" id="countdown" style="color: green;"></div>-->
							<p id="resendCode3">Didn’t receive the code?  <a href="#" onclick="resendbulkrevokeVoucherOTP()">Resend OTP</a></p>
							<p class="error-msg" id="otpError3" style="color:red"></p>
			                    <p class="mb-0" id="maskedMobileDisplay3"></p>
			                </div>
			                <div class="d-flex justify-content-center mt-3">
								<button class="btn btn-primary w-100" id="authenticate3" onclick="bulkverfyrevokeVoucherOTP()">Authenticate</button>
			                </div>
			            </div>
			      
        </div>
    </div>
</div>


<!-- Modal UPI Voucher Revoked -->
<div class="customModal" id="revokeUPIVcAuthenticate">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-top text-center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="img/modal-close.svg" alt="">
                </button>
                <img src="img/modal-success.svg" alt="">
            </div>
            <div class="modal-bottom">
                <span>UPI Voucher Revoked</span>
            </div>
        </div>
    </div>
</div>

<!-- Modal UPI Voucher Revoked -->
<div class="customModal" id="revokeUPIVcAuthenticateFail">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-top text-center" >
				<!-- style="background-color: #F248221A !important;"-->
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="img/modal-close.svg" alt="">
                </button>
                <img src="img/table-fail.svg" alt="">
            </div>
            <div class="modal-bottom">
                <span>UPI Voucher Revocation Failed</span>
            </div>
        </div>
    </div>
</div>

<!-- Modal UPI Voucher Revoked -->
<div class="customModal" id="smsUPIVcAuthenticate">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-top text-center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="img/modal-close.svg" alt="">
                </button>
                <img src="img/modal-success.svg" alt="">
            </div>
            <div class="modal-bottom">
                <span>SMS Sent Successfully</span>
            </div>
        </div>
    </div>
</div>
<!-- Modal UPI Voucher Revoked -->
<div class="customModal" id="bulkrevokeSuccess">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-top text-center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="img/modal-close.svg" alt="">
                </button>
                <img src="img/modal-success.svg" alt="">
            </div>
            <div class="modal-bottom">
                <span>Selected Vouchers Revoked Successfully</span>
            </div>
        </div>
    </div>
</div>

<!-- Modal UPI Voucher Revoked -->
<div class="customModal" id="smsUPIVcAuthenticateFail">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-bulk p-0">
            <div class="modal-top text-center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="img/modal-close.svg" alt="">
                </button>
                <img src="img/modal-close.svg" alt="">
            </div>
            <div class="modal-bottom">
                <span>SMS could not be Send</span>
            </div>
        </div>
    </div>
</div>

<!-- Modal Explaining Voucher Issuance Statistics -->
<div class="customModal" id="explainvcIssuanceStatModal">
    <div class="modal-dialog modal-dialog-centered modal-approval-wrap modal-xl" role="document">
        <div class="modal-content modal-bulk text-left p-0">
            <div class="modal-header pb-0">
                <h5 class="modal-title w-100" id="exampleModalCenterTitle">Explaining Voucher Issuance Statistics</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="img/modal-close.svg" alt="">
                </button>
            </div>
            <div class="modal-body">
                <p><i>Below is an explanation to each tile in the analytics dashboard. </i></p>
                <p>Sum of number of vouchers in A, B & C may not be equal to T, as partially redeemed vouchers are
                    counted twice. Amounts will always follow: T = A + B + C. Click Download to get a complete break-up
                    of the figures till date.</p>
                <div class="text-white modal-inn bg-black">
                    <h6>Total Vouchers Issued (A)</h6>
                    <p>All Vouchers Issued for the defined time period.</p>
                </div>

                <div class="text-dark modal-inn bg-grey">
                    <h6>Redeemed Vouchers (B)</h6>
                    <hr>
                    <p>Sum of the following:</p>
                    <ul>
                        <li>Exhausted Vouchers: Completely redeemed</li>
                        <li>Expired Vouchers: Partially redeemed</li>
                        <li>Active Vouchers: Partially redeemed</li>
                        <li>Revoked Vouchers: Partially redeemed</li>
                    </ul>
                </div>

                <div class="text-dark modal-inn bg-grey">
                    <h6>Revoked & Expired Vouchers (C)</h6>
                    <hr>
                    <p>Sum of the following:</p>
                    <ul>
                        <li>Expired Vouchers: Partially not redeemed</li>
                        <li>Revoked Vouchers: Partially not redeemed</li>
                        <li>Expired Vouchers: Completely not redeemed</li>
                        <li>Revoked Vouchers: Completely not redeemed</li>
                    </ul>
                </div>

                <div class="text-white modal-inn bg-green">
                    <h6>Active Vouchers (D) | D = A - B - C</h6>
                    <hr class="bg-white">
                    <p><b>Active Vouchers (D) = Total Vouchers Issued (A) - Redeemed Vouchers (B) - Revoked & Expired Vouchers (C)</b></p>
                    <p>Sum of the following:</p>
                    <ul>
                        <li>Active Vouchers: Issued and not redeemed</li>
                        <li>Active Vouchers: Issued and partially redeemed</li>
                    </ul>
                </div>


                <div class="d-flex justify-content-center mt-3">
                    <button class="btn btn-primary w-100" id="vcIssuanStatok">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
		<div id="confirmationDialog" style="display: none;">
			<div class="modal-dialog modal-dialog-centered modal-approval-wrap" role="document">
				            <div class="modal-content">
				                <div class="modal-header pb-0">
			                    <h5 class="modal-title" id="">Are you sure you want to revoke this? </h5>
			                    
			                </div>
				                <div class="modal-body confirmbox">
				                    <div class="d-flex justify-content-center mt-4">
										<button id="confirmButton">Yes</button>
										<button id="cancelButton">No</button>
			                    </div>
				                
				            </div>
				        </div>
			</div>
		</div>
		<!-- Slide-in Modal -->
		<!-- All inline styles replaced with unique CSS classes -->
		<div class="voucher-modal-overlay voucher-modal-overlay--dark" id="modal-overlay">
		  <div class="voucher-modal-canvas" id="bs-canvas-right1">
		    <div class="voucher-modal-scrollable-wrapper">
		      <div class="voucher-modal-scrollable">
		        <div class="voucher-header">
		          <h5 class="voucher-title">Voucher Details</h5>
		          <button class="voucher-close-btn bs-canvas-close" aria-label="Close">
		            <i class="fas fa-times voucher-close-icon"></i>
		          </button>
		        </div>

		        <div class="voucher-card">
		          <div class="voucher-card-header">
					<div class="voucher-card-icon-box">
					  <img id="voucherLogoImg" alt="Voucher Logo" width="24" height="24" style="display: none;">
					</div>
		            <div class="voucher-card-labels">
		              <div class="voucher-label-row">
		                <span class="voucher-label-title" id="voucherDesc">Meal</span>
		                <span class="voucher-label-title" id="voucherAmount">₹15,000</span>
		              </div>
		              <div class="voucher-label-row">
		                <span class="voucher-label-sub" id="redemtionType">Multiple</span>
		                <span class="voucher-label-sub">Voucher value</span>
		              </div>
		            </div>
		          </div>

		          <div class="voucher-status-box">
		            <span class="voucher-status-text" id="voucherStatus">Active</span>
		            <span class="voucher-status-text">Balance: <span class="voucher-balance" id="balanceAmount">₹5,000</span></span>
		          </div>

		          <div class="voucher-meta">
		            <div class="voucher-meta-row">
		              <span class="voucher-meta-label">Issue Date</span>
		              <span class="voucher-meta-label">Voucher ID</span>
		            </div>
		            <div class="voucher-meta-row">
		              <span class="voucher-meta-value" id="issueDate">25/10/2024</span>
		              <span class="voucher-meta-value" id="merchantTranId">ICICI00001145781</span>
		            </div>
		            <div class="voucher-meta-row">
		              <span class="voucher-meta-label">Beneficiary</span>
		              <span class="voucher-meta-label">Mobile Number</span>
		            </div>
		            <div class="voucher-meta-row">
		              <span class="voucher-meta-value" id="name">Ramesh Kumar</span>
		              <span class="voucher-meta-value"id="voucherMobile">9910318405</span>
		            </div>
		            <div class="voucher-meta-row">
		              <span class="voucher-meta-label">Bank A/c</span>
		              <span class="voucher-meta-label" >Expiry Date</span>
		            </div>
					
					
		            <div class="voucher-meta-row">
		              <span class="voucher-meta-value" id="accountNumber">
		                <!--<img src="img/indianbank.png" alt="indianbank" class="voucher-bank-icon">xxx0569-->
		              </span>
		              <span class="voucher-meta-value"id="expDate">25/10/2025</span>
		            </div>
					<div class="voucher-meta-row">
		              <span class="voucher-meta-label" >UMN</span>
		            </div>
					<div class="voucher-meta-row">
		              <span class="voucher-meta-value" id="umn"></span>
		            </div>
		          </div>
		        </div>

		        <div class="voucher-redemption">
		          <h6 class="voucher-redemption-title">Redemption Details</h6>
		          <div class="voucher-redemption-card">
		            <div class="voucher-redemption-label" >Amount Spent</div>
		            <div class="voucher-redemption-values">
		              <div class="voucher-redemption-amount"id="amountSpent">₹10,000</div>
		              <!--<span class="voucher-status-pill">Partially Redeemed</span>-->
		            </div>
		          </div>
		        </div>

		        <ol class="voucher-transaction-list">
		          <div class="voucher-transaction-line"></div>
				  <!-- box1-->
		          <li class="voucher-transaction-item">
		            <div class="voucher-transaction-step">1</div>
		            <div class="voucher-transaction-card">
		              <div class="voucher-transaction-top">
		                <div>
		                  <div class="voucher-meta-label">Transaction date</div>
		                  <div class="voucher-meta-value">25/10/2024</div>
		                </div>
		                <div>
		                  <div class="voucher-meta-label">Transaction RRN</div>
		                  <div class="voucher-meta-value">ICICI00001145781</div>
		                </div>
		              </div>
		              <div class="voucher-transaction-bottom">
		                <div>
		                  <div class="voucher-meta-label">Merchant Name</div>
		                  <div class="voucher-meta-value">Ramesh Kumar</div>
		                </div>
		                <div>
		                  <div class="voucher-meta-label">Amount</div>
		                  <div class="voucher-meta-value">₹1,200</div>
		                </div>
		              </div>
		            </div>
		          </li>
				  <!-- box2-->
				  <li class="voucher-transaction-item">
		            <div class="voucher-transaction-step">2</div>
		            <div class="voucher-transaction-card">
		              <div class="voucher-transaction-top">
		                <div>
		                  <div class="voucher-meta-label">Transaction date</div>
		                  <div class="voucher-meta-value">25/10/2024</div>
		                </div>
		                <div>
		                  <div class="voucher-meta-label">Transaction RRN</div>
		                  <div class="voucher-meta-value">ICICI00001145781</div>
		                </div>
		              </div>
		              <div class="voucher-transaction-bottom">
		                <div>
		                  <div class="voucher-meta-label">Merchant Name</div>
		                  <div class="voucher-meta-value">Ramesh Kumar</div>
		                </div>
		                <div>
		                  <div class="voucher-meta-label">Amount</div>
		                  <div class="voucher-meta-value">₹1,200</div>
		                </div>
		              </div>
		            </div>
		          </li>
				  <!-- add as many box as wanted-->
		        </ol>
		      </div>
		    </div>

		    <div class="voucher-footer">
		      <button class="voucher-download-btn">
		        <i class="fas fa-download"></i>
		        Download History
		      </button>
		    </div>
		  </div>
		</div>


		


	



		
	

